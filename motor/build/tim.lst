ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tim.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_TIM2_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_TIM2_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	MX_TIM2_Init:
  25              	.LFB66:
  26              		.file 1 "Src/tim.c"
   1:Src/tim.c     **** /* USER CODE BEGIN Header */
   2:Src/tim.c     **** /**
   3:Src/tim.c     ****   ******************************************************************************
   4:Src/tim.c     ****   * @file    tim.c
   5:Src/tim.c     ****   * @brief   This file provides code for the configuration
   6:Src/tim.c     ****   *          of the TIM instances.
   7:Src/tim.c     ****   ******************************************************************************
   8:Src/tim.c     ****   * @attention
   9:Src/tim.c     ****   *
  10:Src/tim.c     ****   * Copyright (c) 2023 STMicroelectronics.
  11:Src/tim.c     ****   * All rights reserved.
  12:Src/tim.c     ****   *
  13:Src/tim.c     ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Src/tim.c     ****   * in the root directory of this software component.
  15:Src/tim.c     ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Src/tim.c     ****   *
  17:Src/tim.c     ****   ******************************************************************************
  18:Src/tim.c     ****   */
  19:Src/tim.c     **** /* USER CODE END Header */
  20:Src/tim.c     **** /* Includes ------------------------------------------------------------------*/
  21:Src/tim.c     **** #include "tim.h"
  22:Src/tim.c     **** 
  23:Src/tim.c     **** /* USER CODE BEGIN 0 */
  24:Src/tim.c     **** 
  25:Src/tim.c     **** #include "pid.h"
  26:Src/tim.c     **** 
  27:Src/tim.c     **** uint16_t encoder_cnt;
  28:Src/tim.c     **** uint8_t encoder_dir;
  29:Src/tim.c     **** int8_t motor_pulse;
  30:Src/tim.c     **** /* USER CODE END 0 */
  31:Src/tim.c     **** 
  32:Src/tim.c     **** TIM_HandleTypeDef htim1;
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 2


  33:Src/tim.c     **** TIM_HandleTypeDef htim2;
  34:Src/tim.c     **** TIM_HandleTypeDef htim3;
  35:Src/tim.c     **** 
  36:Src/tim.c     **** /* TIM1 init function */
  37:Src/tim.c     **** void MX_TIM1_Init(void)
  38:Src/tim.c     **** {
  39:Src/tim.c     **** 
  40:Src/tim.c     ****   /* USER CODE BEGIN TIM1_Init 0 */
  41:Src/tim.c     **** 
  42:Src/tim.c     ****   /* USER CODE END TIM1_Init 0 */
  43:Src/tim.c     **** 
  44:Src/tim.c     ****   TIM_ClockConfigTypeDef sClockSourceConfig = {0};
  45:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
  46:Src/tim.c     ****   TIM_OC_InitTypeDef sConfigOC = {0};
  47:Src/tim.c     ****   TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
  48:Src/tim.c     **** 
  49:Src/tim.c     ****   /* USER CODE BEGIN TIM1_Init 1 */
  50:Src/tim.c     **** 
  51:Src/tim.c     ****   /* USER CODE END TIM1_Init 1 */
  52:Src/tim.c     ****   htim1.Instance = TIM1;
  53:Src/tim.c     ****   htim1.Init.Prescaler = 71;
  54:Src/tim.c     ****   htim1.Init.CounterMode = TIM_COUNTERMODE_UP;
  55:Src/tim.c     ****   htim1.Init.Period = 99;
  56:Src/tim.c     ****   htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  57:Src/tim.c     ****   htim1.Init.RepetitionCounter = 0;
  58:Src/tim.c     ****   htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
  59:Src/tim.c     ****   if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
  60:Src/tim.c     ****   {
  61:Src/tim.c     ****     Error_Handler();
  62:Src/tim.c     ****   }
  63:Src/tim.c     ****   sClockSourceConfig.ClockSource = TIM_CLOCKSOURCE_INTERNAL;
  64:Src/tim.c     ****   if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
  65:Src/tim.c     ****   {
  66:Src/tim.c     ****     Error_Handler();
  67:Src/tim.c     ****   }
  68:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim1) != HAL_OK)
  69:Src/tim.c     ****   {
  70:Src/tim.c     ****     Error_Handler();
  71:Src/tim.c     ****   }
  72:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
  73:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
  74:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
  75:Src/tim.c     ****   {
  76:Src/tim.c     ****     Error_Handler();
  77:Src/tim.c     ****   }
  78:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
  79:Src/tim.c     ****   sConfigOC.Pulse = 7;
  80:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
  81:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
  82:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
  83:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
  84:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
  85:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
  86:Src/tim.c     ****   {
  87:Src/tim.c     ****     Error_Handler();
  88:Src/tim.c     ****   }
  89:Src/tim.c     ****   sBreakDeadTimeConfig.OffStateRunMode = TIM_OSSR_DISABLE;
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 3


  90:Src/tim.c     ****   sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
  91:Src/tim.c     ****   sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
  92:Src/tim.c     ****   sBreakDeadTimeConfig.DeadTime = 0;
  93:Src/tim.c     ****   sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
  94:Src/tim.c     ****   sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
  95:Src/tim.c     ****   sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
  96:Src/tim.c     ****   if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
  97:Src/tim.c     ****   {
  98:Src/tim.c     ****     Error_Handler();
  99:Src/tim.c     ****   }
 100:Src/tim.c     ****   /* USER CODE BEGIN TIM1_Init 2 */
 101:Src/tim.c     **** 
 102:Src/tim.c     ****   /* USER CODE END TIM1_Init 2 */
 103:Src/tim.c     ****   HAL_TIM_MspPostInit(&htim1);
 104:Src/tim.c     **** 
 105:Src/tim.c     **** }
 106:Src/tim.c     **** /* TIM2 init function */
 107:Src/tim.c     **** void MX_TIM2_Init(void)
 108:Src/tim.c     **** {
  27              		.loc 1 108 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 14, -4
  35 0002 87B0     		sub	sp, sp, #28
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 32
 109:Src/tim.c     **** 
 110:Src/tim.c     ****   /* USER CODE BEGIN TIM2_Init 0 */
 111:Src/tim.c     **** 
 112:Src/tim.c     ****   /* USER CODE END TIM2_Init 0 */
 113:Src/tim.c     **** 
 114:Src/tim.c     ****   TIM_ClockConfigTypeDef sClockSourceConfig = {0};
  38              		.loc 1 114 3 view .LVU1
  39              		.loc 1 114 26 is_stmt 0 view .LVU2
  40 0004 0023     		movs	r3, #0
  41 0006 0293     		str	r3, [sp, #8]
  42 0008 0393     		str	r3, [sp, #12]
  43 000a 0493     		str	r3, [sp, #16]
  44 000c 0593     		str	r3, [sp, #20]
 115:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
  45              		.loc 1 115 3 is_stmt 1 view .LVU3
  46              		.loc 1 115 27 is_stmt 0 view .LVU4
  47 000e 0093     		str	r3, [sp]
  48 0010 0193     		str	r3, [sp, #4]
 116:Src/tim.c     **** 
 117:Src/tim.c     ****   /* USER CODE BEGIN TIM2_Init 1 */
 118:Src/tim.c     **** 
 119:Src/tim.c     ****   /* USER CODE END TIM2_Init 1 */
 120:Src/tim.c     ****   htim2.Instance = TIM2;
  49              		.loc 1 120 3 is_stmt 1 view .LVU5
  50              		.loc 1 120 18 is_stmt 0 view .LVU6
  51 0012 1748     		ldr	r0, .L9
  52 0014 4FF08042 		mov	r2, #1073741824
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 4


  53 0018 0260     		str	r2, [r0]
 121:Src/tim.c     ****   htim2.Init.Prescaler = 0;
  54              		.loc 1 121 3 is_stmt 1 view .LVU7
  55              		.loc 1 121 24 is_stmt 0 view .LVU8
  56 001a 4360     		str	r3, [r0, #4]
 122:Src/tim.c     ****   htim2.Init.CounterMode = TIM_COUNTERMODE_UP;
  57              		.loc 1 122 3 is_stmt 1 view .LVU9
  58              		.loc 1 122 26 is_stmt 0 view .LVU10
  59 001c 8360     		str	r3, [r0, #8]
 123:Src/tim.c     ****   htim2.Init.Period = 60000;
  60              		.loc 1 123 3 is_stmt 1 view .LVU11
  61              		.loc 1 123 21 is_stmt 0 view .LVU12
  62 001e 4EF66022 		movw	r2, #60000
  63 0022 C260     		str	r2, [r0, #12]
 124:Src/tim.c     ****   htim2.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  64              		.loc 1 124 3 is_stmt 1 view .LVU13
  65              		.loc 1 124 28 is_stmt 0 view .LVU14
  66 0024 0361     		str	r3, [r0, #16]
 125:Src/tim.c     ****   htim2.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
  67              		.loc 1 125 3 is_stmt 1 view .LVU15
  68              		.loc 1 125 32 is_stmt 0 view .LVU16
  69 0026 8361     		str	r3, [r0, #24]
 126:Src/tim.c     ****   if (HAL_TIM_Base_Init(&htim2) != HAL_OK)
  70              		.loc 1 126 3 is_stmt 1 view .LVU17
  71              		.loc 1 126 7 is_stmt 0 view .LVU18
  72 0028 FFF7FEFF 		bl	HAL_TIM_Base_Init
  73              	.LVL0:
  74              		.loc 1 126 6 view .LVU19
  75 002c B0B9     		cbnz	r0, .L6
  76              	.L2:
 127:Src/tim.c     ****   {
 128:Src/tim.c     ****     Error_Handler();
 129:Src/tim.c     ****   }
 130:Src/tim.c     ****   sClockSourceConfig.ClockSource = TIM_CLOCKSOURCE_ETRMODE2;
  77              		.loc 1 130 3 is_stmt 1 view .LVU20
  78              		.loc 1 130 34 is_stmt 0 view .LVU21
  79 002e 4FF40053 		mov	r3, #8192
  80 0032 0293     		str	r3, [sp, #8]
 131:Src/tim.c     ****   sClockSourceConfig.ClockPolarity = TIM_CLOCKPOLARITY_NONINVERTED;
  81              		.loc 1 131 3 is_stmt 1 view .LVU22
  82              		.loc 1 131 36 is_stmt 0 view .LVU23
  83 0034 0023     		movs	r3, #0
  84 0036 0393     		str	r3, [sp, #12]
 132:Src/tim.c     ****   sClockSourceConfig.ClockPrescaler = TIM_CLOCKPRESCALER_DIV1;
  85              		.loc 1 132 3 is_stmt 1 view .LVU24
  86              		.loc 1 132 37 is_stmt 0 view .LVU25
  87 0038 0493     		str	r3, [sp, #16]
 133:Src/tim.c     ****   sClockSourceConfig.ClockFilter = 0;
  88              		.loc 1 133 3 is_stmt 1 view .LVU26
  89              		.loc 1 133 34 is_stmt 0 view .LVU27
  90 003a 0593     		str	r3, [sp, #20]
 134:Src/tim.c     ****   if (HAL_TIM_ConfigClockSource(&htim2, &sClockSourceConfig) != HAL_OK)
  91              		.loc 1 134 3 is_stmt 1 view .LVU28
  92              		.loc 1 134 7 is_stmt 0 view .LVU29
  93 003c 02A9     		add	r1, sp, #8
  94 003e 0C48     		ldr	r0, .L9
  95 0040 FFF7FEFF 		bl	HAL_TIM_ConfigClockSource
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 5


  96              	.LVL1:
  97              		.loc 1 134 6 view .LVU30
  98 0044 68B9     		cbnz	r0, .L7
  99              	.L3:
 135:Src/tim.c     ****   {
 136:Src/tim.c     ****     Error_Handler();
 137:Src/tim.c     ****   }
 138:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 100              		.loc 1 138 3 is_stmt 1 view .LVU31
 101              		.loc 1 138 37 is_stmt 0 view .LVU32
 102 0046 0023     		movs	r3, #0
 103 0048 0093     		str	r3, [sp]
 139:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 104              		.loc 1 139 3 is_stmt 1 view .LVU33
 105              		.loc 1 139 33 is_stmt 0 view .LVU34
 106 004a 0193     		str	r3, [sp, #4]
 140:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim2, &sMasterConfig) != HAL_OK)
 107              		.loc 1 140 3 is_stmt 1 view .LVU35
 108              		.loc 1 140 7 is_stmt 0 view .LVU36
 109 004c 6946     		mov	r1, sp
 110 004e 0848     		ldr	r0, .L9
 111 0050 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 112              	.LVL2:
 113              		.loc 1 140 6 view .LVU37
 114 0054 40B9     		cbnz	r0, .L8
 115              	.L1:
 141:Src/tim.c     ****   {
 142:Src/tim.c     ****     Error_Handler();
 143:Src/tim.c     ****   }
 144:Src/tim.c     ****   /* USER CODE BEGIN TIM2_Init 2 */
 145:Src/tim.c     **** 
 146:Src/tim.c     ****   /* USER CODE END TIM2_Init 2 */
 147:Src/tim.c     **** 
 148:Src/tim.c     **** }
 116              		.loc 1 148 1 view .LVU38
 117 0056 07B0     		add	sp, sp, #28
 118              	.LCFI2:
 119              		.cfi_remember_state
 120              		.cfi_def_cfa_offset 4
 121              		@ sp needed
 122 0058 5DF804FB 		ldr	pc, [sp], #4
 123              	.L6:
 124              	.LCFI3:
 125              		.cfi_restore_state
 128:Src/tim.c     ****   }
 126              		.loc 1 128 5 is_stmt 1 view .LVU39
 127 005c FFF7FEFF 		bl	Error_Handler
 128              	.LVL3:
 129 0060 E5E7     		b	.L2
 130              	.L7:
 136:Src/tim.c     ****   }
 131              		.loc 1 136 5 view .LVU40
 132 0062 FFF7FEFF 		bl	Error_Handler
 133              	.LVL4:
 134 0066 EEE7     		b	.L3
 135              	.L8:
 142:Src/tim.c     ****   }
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 6


 136              		.loc 1 142 5 view .LVU41
 137 0068 FFF7FEFF 		bl	Error_Handler
 138              	.LVL5:
 139              		.loc 1 148 1 is_stmt 0 view .LVU42
 140 006c F3E7     		b	.L1
 141              	.L10:
 142 006e 00BF     		.align	2
 143              	.L9:
 144 0070 00000000 		.word	.LANCHOR0
 145              		.cfi_endproc
 146              	.LFE66:
 148              		.section	.text.MX_TIM3_Init,"ax",%progbits
 149              		.align	1
 150              		.global	MX_TIM3_Init
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 155              	MX_TIM3_Init:
 156              	.LFB67:
 149:Src/tim.c     **** /* TIM3 init function */
 150:Src/tim.c     **** void MX_TIM3_Init(void)
 151:Src/tim.c     **** {
 157              		.loc 1 151 1 is_stmt 1 view -0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 24
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161 0000 00B5     		push	{lr}
 162              	.LCFI4:
 163              		.cfi_def_cfa_offset 4
 164              		.cfi_offset 14, -4
 165 0002 87B0     		sub	sp, sp, #28
 166              	.LCFI5:
 167              		.cfi_def_cfa_offset 32
 152:Src/tim.c     **** 
 153:Src/tim.c     ****   /* USER CODE BEGIN TIM3_Init 0 */
 154:Src/tim.c     **** 
 155:Src/tim.c     ****   /* USER CODE END TIM3_Init 0 */
 156:Src/tim.c     **** 
 157:Src/tim.c     ****   TIM_ClockConfigTypeDef sClockSourceConfig = {0};
 168              		.loc 1 157 3 view .LVU44
 169              		.loc 1 157 26 is_stmt 0 view .LVU45
 170 0004 0023     		movs	r3, #0
 171 0006 0293     		str	r3, [sp, #8]
 172 0008 0393     		str	r3, [sp, #12]
 173 000a 0493     		str	r3, [sp, #16]
 174 000c 0593     		str	r3, [sp, #20]
 158:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
 175              		.loc 1 158 3 is_stmt 1 view .LVU46
 176              		.loc 1 158 27 is_stmt 0 view .LVU47
 177 000e 0093     		str	r3, [sp]
 178 0010 0193     		str	r3, [sp, #4]
 159:Src/tim.c     **** 
 160:Src/tim.c     ****   /* USER CODE BEGIN TIM3_Init 1 */
 161:Src/tim.c     **** 
 162:Src/tim.c     ****   /* USER CODE END TIM3_Init 1 */
 163:Src/tim.c     ****   htim3.Instance = TIM3;
 179              		.loc 1 163 3 is_stmt 1 view .LVU48
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 7


 180              		.loc 1 163 18 is_stmt 0 view .LVU49
 181 0012 1548     		ldr	r0, .L19
 182 0014 154A     		ldr	r2, .L19+4
 183 0016 0260     		str	r2, [r0]
 164:Src/tim.c     ****   htim3.Init.Prescaler = 71;
 184              		.loc 1 164 3 is_stmt 1 view .LVU50
 185              		.loc 1 164 24 is_stmt 0 view .LVU51
 186 0018 4722     		movs	r2, #71
 187 001a 4260     		str	r2, [r0, #4]
 165:Src/tim.c     ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 188              		.loc 1 165 3 is_stmt 1 view .LVU52
 189              		.loc 1 165 26 is_stmt 0 view .LVU53
 190 001c 8360     		str	r3, [r0, #8]
 166:Src/tim.c     ****   htim3.Init.Period = 4999;
 191              		.loc 1 166 3 is_stmt 1 view .LVU54
 192              		.loc 1 166 21 is_stmt 0 view .LVU55
 193 001e 41F28732 		movw	r2, #4999
 194 0022 C260     		str	r2, [r0, #12]
 167:Src/tim.c     ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 195              		.loc 1 167 3 is_stmt 1 view .LVU56
 196              		.loc 1 167 28 is_stmt 0 view .LVU57
 197 0024 0361     		str	r3, [r0, #16]
 168:Src/tim.c     ****   htim3.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
 198              		.loc 1 168 3 is_stmt 1 view .LVU58
 199              		.loc 1 168 32 is_stmt 0 view .LVU59
 200 0026 8023     		movs	r3, #128
 201 0028 8361     		str	r3, [r0, #24]
 169:Src/tim.c     ****   if (HAL_TIM_Base_Init(&htim3) != HAL_OK)
 202              		.loc 1 169 3 is_stmt 1 view .LVU60
 203              		.loc 1 169 7 is_stmt 0 view .LVU61
 204 002a FFF7FEFF 		bl	HAL_TIM_Base_Init
 205              	.LVL6:
 206              		.loc 1 169 6 view .LVU62
 207 002e 90B9     		cbnz	r0, .L16
 208              	.L12:
 170:Src/tim.c     ****   {
 171:Src/tim.c     ****     Error_Handler();
 172:Src/tim.c     ****   }
 173:Src/tim.c     ****   sClockSourceConfig.ClockSource = TIM_CLOCKSOURCE_INTERNAL;
 209              		.loc 1 173 3 is_stmt 1 view .LVU63
 210              		.loc 1 173 34 is_stmt 0 view .LVU64
 211 0030 4FF48053 		mov	r3, #4096
 212 0034 0293     		str	r3, [sp, #8]
 174:Src/tim.c     ****   if (HAL_TIM_ConfigClockSource(&htim3, &sClockSourceConfig) != HAL_OK)
 213              		.loc 1 174 3 is_stmt 1 view .LVU65
 214              		.loc 1 174 7 is_stmt 0 view .LVU66
 215 0036 02A9     		add	r1, sp, #8
 216 0038 0B48     		ldr	r0, .L19
 217 003a FFF7FEFF 		bl	HAL_TIM_ConfigClockSource
 218              	.LVL7:
 219              		.loc 1 174 6 view .LVU67
 220 003e 68B9     		cbnz	r0, .L17
 221              	.L13:
 175:Src/tim.c     ****   {
 176:Src/tim.c     ****     Error_Handler();
 177:Src/tim.c     ****   }
 178:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 8


 222              		.loc 1 178 3 is_stmt 1 view .LVU68
 223              		.loc 1 178 37 is_stmt 0 view .LVU69
 224 0040 0023     		movs	r3, #0
 225 0042 0093     		str	r3, [sp]
 179:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 226              		.loc 1 179 3 is_stmt 1 view .LVU70
 227              		.loc 1 179 33 is_stmt 0 view .LVU71
 228 0044 0193     		str	r3, [sp, #4]
 180:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim3, &sMasterConfig) != HAL_OK)
 229              		.loc 1 180 3 is_stmt 1 view .LVU72
 230              		.loc 1 180 7 is_stmt 0 view .LVU73
 231 0046 6946     		mov	r1, sp
 232 0048 0748     		ldr	r0, .L19
 233 004a FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 234              	.LVL8:
 235              		.loc 1 180 6 view .LVU74
 236 004e 40B9     		cbnz	r0, .L18
 237              	.L11:
 181:Src/tim.c     ****   {
 182:Src/tim.c     ****     Error_Handler();
 183:Src/tim.c     ****   }
 184:Src/tim.c     ****   /* USER CODE BEGIN TIM3_Init 2 */
 185:Src/tim.c     **** 
 186:Src/tim.c     ****   /* USER CODE END TIM3_Init 2 */
 187:Src/tim.c     **** 
 188:Src/tim.c     **** }
 238              		.loc 1 188 1 view .LVU75
 239 0050 07B0     		add	sp, sp, #28
 240              	.LCFI6:
 241              		.cfi_remember_state
 242              		.cfi_def_cfa_offset 4
 243              		@ sp needed
 244 0052 5DF804FB 		ldr	pc, [sp], #4
 245              	.L16:
 246              	.LCFI7:
 247              		.cfi_restore_state
 171:Src/tim.c     ****   }
 248              		.loc 1 171 5 is_stmt 1 view .LVU76
 249 0056 FFF7FEFF 		bl	Error_Handler
 250              	.LVL9:
 251 005a E9E7     		b	.L12
 252              	.L17:
 176:Src/tim.c     ****   }
 253              		.loc 1 176 5 view .LVU77
 254 005c FFF7FEFF 		bl	Error_Handler
 255              	.LVL10:
 256 0060 EEE7     		b	.L13
 257              	.L18:
 182:Src/tim.c     ****   }
 258              		.loc 1 182 5 view .LVU78
 259 0062 FFF7FEFF 		bl	Error_Handler
 260              	.LVL11:
 261              		.loc 1 188 1 is_stmt 0 view .LVU79
 262 0066 F3E7     		b	.L11
 263              	.L20:
 264              		.align	2
 265              	.L19:
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 9


 266 0068 00000000 		.word	.LANCHOR1
 267 006c 00040040 		.word	1073742848
 268              		.cfi_endproc
 269              	.LFE67:
 271              		.section	.text.HAL_TIM_Base_MspInit,"ax",%progbits
 272              		.align	1
 273              		.global	HAL_TIM_Base_MspInit
 274              		.syntax unified
 275              		.thumb
 276              		.thumb_func
 278              	HAL_TIM_Base_MspInit:
 279              	.LVL12:
 280              	.LFB68:
 189:Src/tim.c     **** 
 190:Src/tim.c     **** void HAL_TIM_Base_MspInit(TIM_HandleTypeDef* tim_baseHandle)
 191:Src/tim.c     **** {
 281              		.loc 1 191 1 is_stmt 1 view -0
 282              		.cfi_startproc
 283              		@ args = 0, pretend = 0, frame = 32
 284              		@ frame_needed = 0, uses_anonymous_args = 0
 285              		.loc 1 191 1 is_stmt 0 view .LVU81
 286 0000 00B5     		push	{lr}
 287              	.LCFI8:
 288              		.cfi_def_cfa_offset 4
 289              		.cfi_offset 14, -4
 290 0002 89B0     		sub	sp, sp, #36
 291              	.LCFI9:
 292              		.cfi_def_cfa_offset 40
 192:Src/tim.c     **** 
 193:Src/tim.c     ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 293              		.loc 1 193 3 is_stmt 1 view .LVU82
 294              		.loc 1 193 20 is_stmt 0 view .LVU83
 295 0004 0023     		movs	r3, #0
 296 0006 0493     		str	r3, [sp, #16]
 297 0008 0593     		str	r3, [sp, #20]
 298 000a 0693     		str	r3, [sp, #24]
 299 000c 0793     		str	r3, [sp, #28]
 194:Src/tim.c     ****   if(tim_baseHandle->Instance==TIM1)
 300              		.loc 1 194 3 is_stmt 1 view .LVU84
 301              		.loc 1 194 20 is_stmt 0 view .LVU85
 302 000e 0368     		ldr	r3, [r0]
 303              		.loc 1 194 5 view .LVU86
 304 0010 224A     		ldr	r2, .L29
 305 0012 9342     		cmp	r3, r2
 306 0014 08D0     		beq	.L26
 195:Src/tim.c     ****   {
 196:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 0 */
 197:Src/tim.c     **** 
 198:Src/tim.c     ****   /* USER CODE END TIM1_MspInit 0 */
 199:Src/tim.c     ****     /* TIM1 clock enable */
 200:Src/tim.c     ****     __HAL_RCC_TIM1_CLK_ENABLE();
 201:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 202:Src/tim.c     **** 
 203:Src/tim.c     ****   /* USER CODE END TIM1_MspInit 1 */
 204:Src/tim.c     ****   }
 205:Src/tim.c     ****   else if(tim_baseHandle->Instance==TIM2)
 307              		.loc 1 205 8 is_stmt 1 view .LVU87
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 10


 308              		.loc 1 205 10 is_stmt 0 view .LVU88
 309 0016 B3F1804F 		cmp	r3, #1073741824
 310 001a 10D0     		beq	.L27
 206:Src/tim.c     ****   {
 207:Src/tim.c     ****   /* USER CODE BEGIN TIM2_MspInit 0 */
 208:Src/tim.c     **** 
 209:Src/tim.c     ****   /* USER CODE END TIM2_MspInit 0 */
 210:Src/tim.c     ****     /* TIM2 clock enable */
 211:Src/tim.c     ****     __HAL_RCC_TIM2_CLK_ENABLE();
 212:Src/tim.c     **** 
 213:Src/tim.c     ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 214:Src/tim.c     ****     /**TIM2 GPIO Configuration
 215:Src/tim.c     ****     PA0-WKUP     ------> TIM2_ETR
 216:Src/tim.c     ****     */
 217:Src/tim.c     ****     GPIO_InitStruct.Pin = ENCODER_PULSE_Pin;
 218:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 219:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 220:Src/tim.c     ****     HAL_GPIO_Init(ENCODER_PULSE_GPIO_Port, &GPIO_InitStruct);
 221:Src/tim.c     **** 
 222:Src/tim.c     ****   /* USER CODE BEGIN TIM2_MspInit 1 */
 223:Src/tim.c     **** 
 224:Src/tim.c     ****   /* USER CODE END TIM2_MspInit 1 */
 225:Src/tim.c     ****   }
 226:Src/tim.c     ****   else if(tim_baseHandle->Instance==TIM3)
 311              		.loc 1 226 8 is_stmt 1 view .LVU89
 312              		.loc 1 226 10 is_stmt 0 view .LVU90
 313 001c 204A     		ldr	r2, .L29+4
 314 001e 9342     		cmp	r3, r2
 315 0020 28D0     		beq	.L28
 316              	.LVL13:
 317              	.L21:
 227:Src/tim.c     ****   {
 228:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspInit 0 */
 229:Src/tim.c     **** 
 230:Src/tim.c     ****   /* USER CODE END TIM3_MspInit 0 */
 231:Src/tim.c     ****     /* TIM3 clock enable */
 232:Src/tim.c     ****     __HAL_RCC_TIM3_CLK_ENABLE();
 233:Src/tim.c     **** 
 234:Src/tim.c     ****     /* TIM3 interrupt Init */
 235:Src/tim.c     ****     HAL_NVIC_SetPriority(TIM3_IRQn, 0, 0);
 236:Src/tim.c     ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 237:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspInit 1 */
 238:Src/tim.c     **** 
 239:Src/tim.c     ****   /* USER CODE END TIM3_MspInit 1 */
 240:Src/tim.c     ****   }
 241:Src/tim.c     **** }
 318              		.loc 1 241 1 view .LVU91
 319 0022 09B0     		add	sp, sp, #36
 320              	.LCFI10:
 321              		.cfi_remember_state
 322              		.cfi_def_cfa_offset 4
 323              		@ sp needed
 324 0024 5DF804FB 		ldr	pc, [sp], #4
 325              	.LVL14:
 326              	.L26:
 327              	.LCFI11:
 328              		.cfi_restore_state
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 11


 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 329              		.loc 1 200 5 is_stmt 1 view .LVU92
 330              	.LBB2:
 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 331              		.loc 1 200 5 view .LVU93
 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 332              		.loc 1 200 5 view .LVU94
 333 0028 1E4B     		ldr	r3, .L29+8
 334 002a 9A69     		ldr	r2, [r3, #24]
 335 002c 42F40062 		orr	r2, r2, #2048
 336 0030 9A61     		str	r2, [r3, #24]
 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 337              		.loc 1 200 5 view .LVU95
 338 0032 9B69     		ldr	r3, [r3, #24]
 339 0034 03F40063 		and	r3, r3, #2048
 340 0038 0093     		str	r3, [sp]
 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 341              		.loc 1 200 5 view .LVU96
 342 003a 009B     		ldr	r3, [sp]
 343              	.LBE2:
 200:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspInit 1 */
 344              		.loc 1 200 5 view .LVU97
 345 003c F1E7     		b	.L21
 346              	.L27:
 211:Src/tim.c     **** 
 347              		.loc 1 211 5 view .LVU98
 348              	.LBB3:
 211:Src/tim.c     **** 
 349              		.loc 1 211 5 view .LVU99
 211:Src/tim.c     **** 
 350              		.loc 1 211 5 view .LVU100
 351 003e 03F50433 		add	r3, r3, #135168
 352 0042 DA69     		ldr	r2, [r3, #28]
 353 0044 42F00102 		orr	r2, r2, #1
 354 0048 DA61     		str	r2, [r3, #28]
 211:Src/tim.c     **** 
 355              		.loc 1 211 5 view .LVU101
 356 004a DA69     		ldr	r2, [r3, #28]
 357 004c 02F00102 		and	r2, r2, #1
 358 0050 0192     		str	r2, [sp, #4]
 211:Src/tim.c     **** 
 359              		.loc 1 211 5 view .LVU102
 360 0052 019A     		ldr	r2, [sp, #4]
 361              	.LBE3:
 211:Src/tim.c     **** 
 362              		.loc 1 211 5 view .LVU103
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
 363              		.loc 1 213 5 view .LVU104
 364              	.LBB4:
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
 365              		.loc 1 213 5 view .LVU105
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
 366              		.loc 1 213 5 view .LVU106
 367 0054 9A69     		ldr	r2, [r3, #24]
 368 0056 42F00402 		orr	r2, r2, #4
 369 005a 9A61     		str	r2, [r3, #24]
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 12


 370              		.loc 1 213 5 view .LVU107
 371 005c 9B69     		ldr	r3, [r3, #24]
 372 005e 03F00403 		and	r3, r3, #4
 373 0062 0293     		str	r3, [sp, #8]
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
 374              		.loc 1 213 5 view .LVU108
 375 0064 029B     		ldr	r3, [sp, #8]
 376              	.LBE4:
 213:Src/tim.c     ****     /**TIM2 GPIO Configuration
 377              		.loc 1 213 5 view .LVU109
 217:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 378              		.loc 1 217 5 view .LVU110
 217:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 379              		.loc 1 217 25 is_stmt 0 view .LVU111
 380 0066 0123     		movs	r3, #1
 381 0068 0493     		str	r3, [sp, #16]
 218:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 382              		.loc 1 218 5 is_stmt 1 view .LVU112
 219:Src/tim.c     ****     HAL_GPIO_Init(ENCODER_PULSE_GPIO_Port, &GPIO_InitStruct);
 383              		.loc 1 219 5 view .LVU113
 220:Src/tim.c     **** 
 384              		.loc 1 220 5 view .LVU114
 385 006a 04A9     		add	r1, sp, #16
 386 006c 0E48     		ldr	r0, .L29+12
 387              	.LVL15:
 220:Src/tim.c     **** 
 388              		.loc 1 220 5 is_stmt 0 view .LVU115
 389 006e FFF7FEFF 		bl	HAL_GPIO_Init
 390              	.LVL16:
 391 0072 D6E7     		b	.L21
 392              	.LVL17:
 393              	.L28:
 232:Src/tim.c     **** 
 394              		.loc 1 232 5 is_stmt 1 view .LVU116
 395              	.LBB5:
 232:Src/tim.c     **** 
 396              		.loc 1 232 5 view .LVU117
 232:Src/tim.c     **** 
 397              		.loc 1 232 5 view .LVU118
 398 0074 0B4B     		ldr	r3, .L29+8
 399 0076 DA69     		ldr	r2, [r3, #28]
 400 0078 42F00202 		orr	r2, r2, #2
 401 007c DA61     		str	r2, [r3, #28]
 232:Src/tim.c     **** 
 402              		.loc 1 232 5 view .LVU119
 403 007e DB69     		ldr	r3, [r3, #28]
 404 0080 03F00203 		and	r3, r3, #2
 405 0084 0393     		str	r3, [sp, #12]
 232:Src/tim.c     **** 
 406              		.loc 1 232 5 view .LVU120
 407 0086 039B     		ldr	r3, [sp, #12]
 408              	.LBE5:
 232:Src/tim.c     **** 
 409              		.loc 1 232 5 view .LVU121
 235:Src/tim.c     ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 410              		.loc 1 235 5 view .LVU122
 411 0088 0022     		movs	r2, #0
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 13


 412 008a 1146     		mov	r1, r2
 413 008c 1D20     		movs	r0, #29
 414              	.LVL18:
 235:Src/tim.c     ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 415              		.loc 1 235 5 is_stmt 0 view .LVU123
 416 008e FFF7FEFF 		bl	HAL_NVIC_SetPriority
 417              	.LVL19:
 236:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspInit 1 */
 418              		.loc 1 236 5 is_stmt 1 view .LVU124
 419 0092 1D20     		movs	r0, #29
 420 0094 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 421              	.LVL20:
 422              		.loc 1 241 1 is_stmt 0 view .LVU125
 423 0098 C3E7     		b	.L21
 424              	.L30:
 425 009a 00BF     		.align	2
 426              	.L29:
 427 009c 002C0140 		.word	1073818624
 428 00a0 00040040 		.word	1073742848
 429 00a4 00100240 		.word	1073876992
 430 00a8 00080140 		.word	1073809408
 431              		.cfi_endproc
 432              	.LFE68:
 434              		.section	.text.HAL_TIM_MspPostInit,"ax",%progbits
 435              		.align	1
 436              		.global	HAL_TIM_MspPostInit
 437              		.syntax unified
 438              		.thumb
 439              		.thumb_func
 441              	HAL_TIM_MspPostInit:
 442              	.LVL21:
 443              	.LFB69:
 242:Src/tim.c     **** void HAL_TIM_MspPostInit(TIM_HandleTypeDef* timHandle)
 243:Src/tim.c     **** {
 444              		.loc 1 243 1 is_stmt 1 view -0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 24
 447              		@ frame_needed = 0, uses_anonymous_args = 0
 448              		.loc 1 243 1 is_stmt 0 view .LVU127
 449 0000 00B5     		push	{lr}
 450              	.LCFI12:
 451              		.cfi_def_cfa_offset 4
 452              		.cfi_offset 14, -4
 453 0002 87B0     		sub	sp, sp, #28
 454              	.LCFI13:
 455              		.cfi_def_cfa_offset 32
 244:Src/tim.c     **** 
 245:Src/tim.c     ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 456              		.loc 1 245 3 is_stmt 1 view .LVU128
 457              		.loc 1 245 20 is_stmt 0 view .LVU129
 458 0004 0023     		movs	r3, #0
 459 0006 0293     		str	r3, [sp, #8]
 460 0008 0393     		str	r3, [sp, #12]
 461 000a 0493     		str	r3, [sp, #16]
 462 000c 0593     		str	r3, [sp, #20]
 246:Src/tim.c     ****   if(timHandle->Instance==TIM1)
 463              		.loc 1 246 3 is_stmt 1 view .LVU130
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 14


 464              		.loc 1 246 15 is_stmt 0 view .LVU131
 465 000e 0268     		ldr	r2, [r0]
 466              		.loc 1 246 5 view .LVU132
 467 0010 0D4B     		ldr	r3, .L35
 468 0012 9A42     		cmp	r2, r3
 469 0014 02D0     		beq	.L34
 470              	.LVL22:
 471              	.L31:
 247:Src/tim.c     ****   {
 248:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspPostInit 0 */
 249:Src/tim.c     **** 
 250:Src/tim.c     ****   /* USER CODE END TIM1_MspPostInit 0 */
 251:Src/tim.c     **** 
 252:Src/tim.c     ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 253:Src/tim.c     ****     /**TIM1 GPIO Configuration
 254:Src/tim.c     ****     PA8     ------> TIM1_CH1
 255:Src/tim.c     ****     */
 256:Src/tim.c     ****     GPIO_InitStruct.Pin = MOTOR_PWM_Pin;
 257:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 258:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 259:Src/tim.c     ****     HAL_GPIO_Init(MOTOR_PWM_GPIO_Port, &GPIO_InitStruct);
 260:Src/tim.c     **** 
 261:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspPostInit 1 */
 262:Src/tim.c     **** 
 263:Src/tim.c     ****   /* USER CODE END TIM1_MspPostInit 1 */
 264:Src/tim.c     ****   }
 265:Src/tim.c     **** 
 266:Src/tim.c     **** }
 472              		.loc 1 266 1 view .LVU133
 473 0016 07B0     		add	sp, sp, #28
 474              	.LCFI14:
 475              		.cfi_remember_state
 476              		.cfi_def_cfa_offset 4
 477              		@ sp needed
 478 0018 5DF804FB 		ldr	pc, [sp], #4
 479              	.LVL23:
 480              	.L34:
 481              	.LCFI15:
 482              		.cfi_restore_state
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 483              		.loc 1 252 5 is_stmt 1 view .LVU134
 484              	.LBB6:
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 485              		.loc 1 252 5 view .LVU135
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 486              		.loc 1 252 5 view .LVU136
 487 001c 03F56443 		add	r3, r3, #58368
 488 0020 9A69     		ldr	r2, [r3, #24]
 489 0022 42F00402 		orr	r2, r2, #4
 490 0026 9A61     		str	r2, [r3, #24]
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 491              		.loc 1 252 5 view .LVU137
 492 0028 9B69     		ldr	r3, [r3, #24]
 493 002a 03F00403 		and	r3, r3, #4
 494 002e 0193     		str	r3, [sp, #4]
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 495              		.loc 1 252 5 view .LVU138
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 15


 496 0030 019B     		ldr	r3, [sp, #4]
 497              	.LBE6:
 252:Src/tim.c     ****     /**TIM1 GPIO Configuration
 498              		.loc 1 252 5 view .LVU139
 256:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 499              		.loc 1 256 5 view .LVU140
 256:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 500              		.loc 1 256 25 is_stmt 0 view .LVU141
 501 0032 4FF48073 		mov	r3, #256
 502 0036 0293     		str	r3, [sp, #8]
 257:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 503              		.loc 1 257 5 is_stmt 1 view .LVU142
 257:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 504              		.loc 1 257 26 is_stmt 0 view .LVU143
 505 0038 0223     		movs	r3, #2
 506 003a 0393     		str	r3, [sp, #12]
 258:Src/tim.c     ****     HAL_GPIO_Init(MOTOR_PWM_GPIO_Port, &GPIO_InitStruct);
 507              		.loc 1 258 5 is_stmt 1 view .LVU144
 258:Src/tim.c     ****     HAL_GPIO_Init(MOTOR_PWM_GPIO_Port, &GPIO_InitStruct);
 508              		.loc 1 258 27 is_stmt 0 view .LVU145
 509 003c 0593     		str	r3, [sp, #20]
 259:Src/tim.c     **** 
 510              		.loc 1 259 5 is_stmt 1 view .LVU146
 511 003e 02A9     		add	r1, sp, #8
 512 0040 0248     		ldr	r0, .L35+4
 513              	.LVL24:
 259:Src/tim.c     **** 
 514              		.loc 1 259 5 is_stmt 0 view .LVU147
 515 0042 FFF7FEFF 		bl	HAL_GPIO_Init
 516              	.LVL25:
 517              		.loc 1 266 1 view .LVU148
 518 0046 E6E7     		b	.L31
 519              	.L36:
 520              		.align	2
 521              	.L35:
 522 0048 002C0140 		.word	1073818624
 523 004c 00080140 		.word	1073809408
 524              		.cfi_endproc
 525              	.LFE69:
 527              		.section	.text.MX_TIM1_Init,"ax",%progbits
 528              		.align	1
 529              		.global	MX_TIM1_Init
 530              		.syntax unified
 531              		.thumb
 532              		.thumb_func
 534              	MX_TIM1_Init:
 535              	.LFB65:
  38:Src/tim.c     **** 
 536              		.loc 1 38 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 88
 539              		@ frame_needed = 0, uses_anonymous_args = 0
 540 0000 10B5     		push	{r4, lr}
 541              	.LCFI16:
 542              		.cfi_def_cfa_offset 8
 543              		.cfi_offset 4, -8
 544              		.cfi_offset 14, -4
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 16


 545 0002 96B0     		sub	sp, sp, #88
 546              	.LCFI17:
 547              		.cfi_def_cfa_offset 96
  44:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
 548              		.loc 1 44 3 view .LVU150
  44:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
 549              		.loc 1 44 26 is_stmt 0 view .LVU151
 550 0004 0024     		movs	r4, #0
 551 0006 1294     		str	r4, [sp, #72]
 552 0008 1394     		str	r4, [sp, #76]
 553 000a 1494     		str	r4, [sp, #80]
 554 000c 1594     		str	r4, [sp, #84]
  45:Src/tim.c     ****   TIM_OC_InitTypeDef sConfigOC = {0};
 555              		.loc 1 45 3 is_stmt 1 view .LVU152
  45:Src/tim.c     ****   TIM_OC_InitTypeDef sConfigOC = {0};
 556              		.loc 1 45 27 is_stmt 0 view .LVU153
 557 000e 1094     		str	r4, [sp, #64]
 558 0010 1194     		str	r4, [sp, #68]
  46:Src/tim.c     ****   TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
 559              		.loc 1 46 3 is_stmt 1 view .LVU154
  46:Src/tim.c     ****   TIM_BreakDeadTimeConfigTypeDef sBreakDeadTimeConfig = {0};
 560              		.loc 1 46 22 is_stmt 0 view .LVU155
 561 0012 0994     		str	r4, [sp, #36]
 562 0014 0A94     		str	r4, [sp, #40]
 563 0016 0B94     		str	r4, [sp, #44]
 564 0018 0C94     		str	r4, [sp, #48]
 565 001a 0D94     		str	r4, [sp, #52]
 566 001c 0E94     		str	r4, [sp, #56]
 567 001e 0F94     		str	r4, [sp, #60]
  47:Src/tim.c     **** 
 568              		.loc 1 47 3 is_stmt 1 view .LVU156
  47:Src/tim.c     **** 
 569              		.loc 1 47 34 is_stmt 0 view .LVU157
 570 0020 2022     		movs	r2, #32
 571 0022 2146     		mov	r1, r4
 572 0024 01A8     		add	r0, sp, #4
 573 0026 FFF7FEFF 		bl	memset
 574              	.LVL26:
  52:Src/tim.c     ****   htim1.Init.Prescaler = 71;
 575              		.loc 1 52 3 is_stmt 1 view .LVU158
  52:Src/tim.c     ****   htim1.Init.Prescaler = 71;
 576              		.loc 1 52 18 is_stmt 0 view .LVU159
 577 002a 2D48     		ldr	r0, .L51
 578 002c 2D4B     		ldr	r3, .L51+4
 579 002e 0360     		str	r3, [r0]
  53:Src/tim.c     ****   htim1.Init.CounterMode = TIM_COUNTERMODE_UP;
 580              		.loc 1 53 3 is_stmt 1 view .LVU160
  53:Src/tim.c     ****   htim1.Init.CounterMode = TIM_COUNTERMODE_UP;
 581              		.loc 1 53 24 is_stmt 0 view .LVU161
 582 0030 4723     		movs	r3, #71
 583 0032 4360     		str	r3, [r0, #4]
  54:Src/tim.c     ****   htim1.Init.Period = 99;
 584              		.loc 1 54 3 is_stmt 1 view .LVU162
  54:Src/tim.c     ****   htim1.Init.Period = 99;
 585              		.loc 1 54 26 is_stmt 0 view .LVU163
 586 0034 8460     		str	r4, [r0, #8]
  55:Src/tim.c     ****   htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 17


 587              		.loc 1 55 3 is_stmt 1 view .LVU164
  55:Src/tim.c     ****   htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 588              		.loc 1 55 21 is_stmt 0 view .LVU165
 589 0036 6323     		movs	r3, #99
 590 0038 C360     		str	r3, [r0, #12]
  56:Src/tim.c     ****   htim1.Init.RepetitionCounter = 0;
 591              		.loc 1 56 3 is_stmt 1 view .LVU166
  56:Src/tim.c     ****   htim1.Init.RepetitionCounter = 0;
 592              		.loc 1 56 28 is_stmt 0 view .LVU167
 593 003a 0461     		str	r4, [r0, #16]
  57:Src/tim.c     ****   htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
 594              		.loc 1 57 3 is_stmt 1 view .LVU168
  57:Src/tim.c     ****   htim1.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
 595              		.loc 1 57 32 is_stmt 0 view .LVU169
 596 003c 4461     		str	r4, [r0, #20]
  58:Src/tim.c     ****   if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
 597              		.loc 1 58 3 is_stmt 1 view .LVU170
  58:Src/tim.c     ****   if (HAL_TIM_Base_Init(&htim1) != HAL_OK)
 598              		.loc 1 58 32 is_stmt 0 view .LVU171
 599 003e 8023     		movs	r3, #128
 600 0040 8361     		str	r3, [r0, #24]
  59:Src/tim.c     ****   {
 601              		.loc 1 59 3 is_stmt 1 view .LVU172
  59:Src/tim.c     ****   {
 602              		.loc 1 59 7 is_stmt 0 view .LVU173
 603 0042 FFF7FEFF 		bl	HAL_TIM_Base_Init
 604              	.LVL27:
  59:Src/tim.c     ****   {
 605              		.loc 1 59 6 view .LVU174
 606 0046 0028     		cmp	r0, #0
 607 0048 38D1     		bne	.L45
 608              	.L38:
  63:Src/tim.c     ****   if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
 609              		.loc 1 63 3 is_stmt 1 view .LVU175
  63:Src/tim.c     ****   if (HAL_TIM_ConfigClockSource(&htim1, &sClockSourceConfig) != HAL_OK)
 610              		.loc 1 63 34 is_stmt 0 view .LVU176
 611 004a 4FF48053 		mov	r3, #4096
 612 004e 1293     		str	r3, [sp, #72]
  64:Src/tim.c     ****   {
 613              		.loc 1 64 3 is_stmt 1 view .LVU177
  64:Src/tim.c     ****   {
 614              		.loc 1 64 7 is_stmt 0 view .LVU178
 615 0050 12A9     		add	r1, sp, #72
 616 0052 2348     		ldr	r0, .L51
 617 0054 FFF7FEFF 		bl	HAL_TIM_ConfigClockSource
 618              	.LVL28:
  64:Src/tim.c     ****   {
 619              		.loc 1 64 6 view .LVU179
 620 0058 0028     		cmp	r0, #0
 621 005a 32D1     		bne	.L46
 622              	.L39:
  68:Src/tim.c     ****   {
 623              		.loc 1 68 3 is_stmt 1 view .LVU180
  68:Src/tim.c     ****   {
 624              		.loc 1 68 7 is_stmt 0 view .LVU181
 625 005c 2048     		ldr	r0, .L51
 626 005e FFF7FEFF 		bl	HAL_TIM_PWM_Init
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 18


 627              	.LVL29:
  68:Src/tim.c     ****   {
 628              		.loc 1 68 6 view .LVU182
 629 0062 0028     		cmp	r0, #0
 630 0064 30D1     		bne	.L47
 631              	.L40:
  72:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 632              		.loc 1 72 3 is_stmt 1 view .LVU183
  72:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 633              		.loc 1 72 37 is_stmt 0 view .LVU184
 634 0066 0023     		movs	r3, #0
 635 0068 1093     		str	r3, [sp, #64]
  73:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
 636              		.loc 1 73 3 is_stmt 1 view .LVU185
  73:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
 637              		.loc 1 73 33 is_stmt 0 view .LVU186
 638 006a 1193     		str	r3, [sp, #68]
  74:Src/tim.c     ****   {
 639              		.loc 1 74 3 is_stmt 1 view .LVU187
  74:Src/tim.c     ****   {
 640              		.loc 1 74 7 is_stmt 0 view .LVU188
 641 006c 10A9     		add	r1, sp, #64
 642 006e 1C48     		ldr	r0, .L51
 643 0070 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 644              	.LVL30:
  74:Src/tim.c     ****   {
 645              		.loc 1 74 6 view .LVU189
 646 0074 58BB     		cbnz	r0, .L48
 647              	.L41:
  78:Src/tim.c     ****   sConfigOC.Pulse = 7;
 648              		.loc 1 78 3 is_stmt 1 view .LVU190
  78:Src/tim.c     ****   sConfigOC.Pulse = 7;
 649              		.loc 1 78 20 is_stmt 0 view .LVU191
 650 0076 6023     		movs	r3, #96
 651 0078 0993     		str	r3, [sp, #36]
  79:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 652              		.loc 1 79 3 is_stmt 1 view .LVU192
  79:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 653              		.loc 1 79 19 is_stmt 0 view .LVU193
 654 007a 0723     		movs	r3, #7
 655 007c 0A93     		str	r3, [sp, #40]
  80:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
 656              		.loc 1 80 3 is_stmt 1 view .LVU194
  80:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
 657              		.loc 1 80 24 is_stmt 0 view .LVU195
 658 007e 0022     		movs	r2, #0
 659 0080 0B92     		str	r2, [sp, #44]
  81:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 660              		.loc 1 81 3 is_stmt 1 view .LVU196
  81:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 661              		.loc 1 81 25 is_stmt 0 view .LVU197
 662 0082 0C92     		str	r2, [sp, #48]
  82:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 663              		.loc 1 82 3 is_stmt 1 view .LVU198
  82:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 664              		.loc 1 82 24 is_stmt 0 view .LVU199
 665 0084 0D92     		str	r2, [sp, #52]
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 19


  83:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 666              		.loc 1 83 3 is_stmt 1 view .LVU200
  83:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 667              		.loc 1 83 25 is_stmt 0 view .LVU201
 668 0086 0E92     		str	r2, [sp, #56]
  84:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 669              		.loc 1 84 3 is_stmt 1 view .LVU202
  84:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim1, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 670              		.loc 1 84 26 is_stmt 0 view .LVU203
 671 0088 0F92     		str	r2, [sp, #60]
  85:Src/tim.c     ****   {
 672              		.loc 1 85 3 is_stmt 1 view .LVU204
  85:Src/tim.c     ****   {
 673              		.loc 1 85 7 is_stmt 0 view .LVU205
 674 008a 09A9     		add	r1, sp, #36
 675 008c 1448     		ldr	r0, .L51
 676 008e FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 677              	.LVL31:
  85:Src/tim.c     ****   {
 678              		.loc 1 85 6 view .LVU206
 679 0092 F8B9     		cbnz	r0, .L49
 680              	.L42:
  89:Src/tim.c     ****   sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
 681              		.loc 1 89 3 is_stmt 1 view .LVU207
  89:Src/tim.c     ****   sBreakDeadTimeConfig.OffStateIDLEMode = TIM_OSSI_DISABLE;
 682              		.loc 1 89 40 is_stmt 0 view .LVU208
 683 0094 0023     		movs	r3, #0
 684 0096 0193     		str	r3, [sp, #4]
  90:Src/tim.c     ****   sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 685              		.loc 1 90 3 is_stmt 1 view .LVU209
  90:Src/tim.c     ****   sBreakDeadTimeConfig.LockLevel = TIM_LOCKLEVEL_OFF;
 686              		.loc 1 90 41 is_stmt 0 view .LVU210
 687 0098 0293     		str	r3, [sp, #8]
  91:Src/tim.c     ****   sBreakDeadTimeConfig.DeadTime = 0;
 688              		.loc 1 91 3 is_stmt 1 view .LVU211
  91:Src/tim.c     ****   sBreakDeadTimeConfig.DeadTime = 0;
 689              		.loc 1 91 34 is_stmt 0 view .LVU212
 690 009a 0393     		str	r3, [sp, #12]
  92:Src/tim.c     ****   sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
 691              		.loc 1 92 3 is_stmt 1 view .LVU213
  92:Src/tim.c     ****   sBreakDeadTimeConfig.BreakState = TIM_BREAK_DISABLE;
 692              		.loc 1 92 33 is_stmt 0 view .LVU214
 693 009c 0493     		str	r3, [sp, #16]
  93:Src/tim.c     ****   sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
 694              		.loc 1 93 3 is_stmt 1 view .LVU215
  93:Src/tim.c     ****   sBreakDeadTimeConfig.BreakPolarity = TIM_BREAKPOLARITY_HIGH;
 695              		.loc 1 93 35 is_stmt 0 view .LVU216
 696 009e 0593     		str	r3, [sp, #20]
  94:Src/tim.c     ****   sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
 697              		.loc 1 94 3 is_stmt 1 view .LVU217
  94:Src/tim.c     ****   sBreakDeadTimeConfig.AutomaticOutput = TIM_AUTOMATICOUTPUT_DISABLE;
 698              		.loc 1 94 38 is_stmt 0 view .LVU218
 699 00a0 4FF40052 		mov	r2, #8192
 700 00a4 0692     		str	r2, [sp, #24]
  95:Src/tim.c     ****   if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
 701              		.loc 1 95 3 is_stmt 1 view .LVU219
  95:Src/tim.c     ****   if (HAL_TIMEx_ConfigBreakDeadTime(&htim1, &sBreakDeadTimeConfig) != HAL_OK)
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 20


 702              		.loc 1 95 40 is_stmt 0 view .LVU220
 703 00a6 0893     		str	r3, [sp, #32]
  96:Src/tim.c     ****   {
 704              		.loc 1 96 3 is_stmt 1 view .LVU221
  96:Src/tim.c     ****   {
 705              		.loc 1 96 7 is_stmt 0 view .LVU222
 706 00a8 01A9     		add	r1, sp, #4
 707 00aa 0D48     		ldr	r0, .L51
 708 00ac FFF7FEFF 		bl	HAL_TIMEx_ConfigBreakDeadTime
 709              	.LVL32:
  96:Src/tim.c     ****   {
 710              		.loc 1 96 6 view .LVU223
 711 00b0 98B9     		cbnz	r0, .L50
 712              	.L43:
 103:Src/tim.c     **** 
 713              		.loc 1 103 3 is_stmt 1 view .LVU224
 714 00b2 0B48     		ldr	r0, .L51
 715 00b4 FFF7FEFF 		bl	HAL_TIM_MspPostInit
 716              	.LVL33:
 105:Src/tim.c     **** /* TIM2 init function */
 717              		.loc 1 105 1 is_stmt 0 view .LVU225
 718 00b8 16B0     		add	sp, sp, #88
 719              	.LCFI18:
 720              		.cfi_remember_state
 721              		.cfi_def_cfa_offset 8
 722              		@ sp needed
 723 00ba 10BD     		pop	{r4, pc}
 724              	.L45:
 725              	.LCFI19:
 726              		.cfi_restore_state
  61:Src/tim.c     ****   }
 727              		.loc 1 61 5 is_stmt 1 view .LVU226
 728 00bc FFF7FEFF 		bl	Error_Handler
 729              	.LVL34:
 730 00c0 C3E7     		b	.L38
 731              	.L46:
  66:Src/tim.c     ****   }
 732              		.loc 1 66 5 view .LVU227
 733 00c2 FFF7FEFF 		bl	Error_Handler
 734              	.LVL35:
 735 00c6 C9E7     		b	.L39
 736              	.L47:
  70:Src/tim.c     ****   }
 737              		.loc 1 70 5 view .LVU228
 738 00c8 FFF7FEFF 		bl	Error_Handler
 739              	.LVL36:
 740 00cc CBE7     		b	.L40
 741              	.L48:
  76:Src/tim.c     ****   }
 742              		.loc 1 76 5 view .LVU229
 743 00ce FFF7FEFF 		bl	Error_Handler
 744              	.LVL37:
 745 00d2 D0E7     		b	.L41
 746              	.L49:
  87:Src/tim.c     ****   }
 747              		.loc 1 87 5 view .LVU230
 748 00d4 FFF7FEFF 		bl	Error_Handler
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 21


 749              	.LVL38:
 750 00d8 DCE7     		b	.L42
 751              	.L50:
  98:Src/tim.c     ****   }
 752              		.loc 1 98 5 view .LVU231
 753 00da FFF7FEFF 		bl	Error_Handler
 754              	.LVL39:
 755 00de E8E7     		b	.L43
 756              	.L52:
 757              		.align	2
 758              	.L51:
 759 00e0 00000000 		.word	.LANCHOR2
 760 00e4 002C0140 		.word	1073818624
 761              		.cfi_endproc
 762              	.LFE65:
 764              		.section	.text.HAL_TIM_Base_MspDeInit,"ax",%progbits
 765              		.align	1
 766              		.global	HAL_TIM_Base_MspDeInit
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	HAL_TIM_Base_MspDeInit:
 772              	.LVL40:
 773              	.LFB70:
 267:Src/tim.c     **** 
 268:Src/tim.c     **** void HAL_TIM_Base_MspDeInit(TIM_HandleTypeDef* tim_baseHandle)
 269:Src/tim.c     **** {
 774              		.loc 1 269 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778              		.loc 1 269 1 is_stmt 0 view .LVU233
 779 0000 08B5     		push	{r3, lr}
 780              	.LCFI20:
 781              		.cfi_def_cfa_offset 8
 782              		.cfi_offset 3, -8
 783              		.cfi_offset 14, -4
 270:Src/tim.c     **** 
 271:Src/tim.c     ****   if(tim_baseHandle->Instance==TIM1)
 784              		.loc 1 271 3 is_stmt 1 view .LVU234
 785              		.loc 1 271 20 is_stmt 0 view .LVU235
 786 0002 0368     		ldr	r3, [r0]
 787              		.loc 1 271 5 view .LVU236
 788 0004 124A     		ldr	r2, .L61
 789 0006 9342     		cmp	r3, r2
 790 0008 06D0     		beq	.L58
 272:Src/tim.c     ****   {
 273:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspDeInit 0 */
 274:Src/tim.c     **** 
 275:Src/tim.c     ****   /* USER CODE END TIM1_MspDeInit 0 */
 276:Src/tim.c     ****     /* Peripheral clock disable */
 277:Src/tim.c     ****     __HAL_RCC_TIM1_CLK_DISABLE();
 278:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspDeInit 1 */
 279:Src/tim.c     **** 
 280:Src/tim.c     ****   /* USER CODE END TIM1_MspDeInit 1 */
 281:Src/tim.c     ****   }
 282:Src/tim.c     ****   else if(tim_baseHandle->Instance==TIM2)
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 22


 791              		.loc 1 282 8 is_stmt 1 view .LVU237
 792              		.loc 1 282 10 is_stmt 0 view .LVU238
 793 000a B3F1804F 		cmp	r3, #1073741824
 794 000e 0AD0     		beq	.L59
 283:Src/tim.c     ****   {
 284:Src/tim.c     ****   /* USER CODE BEGIN TIM2_MspDeInit 0 */
 285:Src/tim.c     **** 
 286:Src/tim.c     ****   /* USER CODE END TIM2_MspDeInit 0 */
 287:Src/tim.c     ****     /* Peripheral clock disable */
 288:Src/tim.c     ****     __HAL_RCC_TIM2_CLK_DISABLE();
 289:Src/tim.c     **** 
 290:Src/tim.c     ****     /**TIM2 GPIO Configuration
 291:Src/tim.c     ****     PA0-WKUP     ------> TIM2_ETR
 292:Src/tim.c     ****     */
 293:Src/tim.c     ****     HAL_GPIO_DeInit(ENCODER_PULSE_GPIO_Port, ENCODER_PULSE_Pin);
 294:Src/tim.c     **** 
 295:Src/tim.c     ****   /* USER CODE BEGIN TIM2_MspDeInit 1 */
 296:Src/tim.c     **** 
 297:Src/tim.c     ****   /* USER CODE END TIM2_MspDeInit 1 */
 298:Src/tim.c     ****   }
 299:Src/tim.c     ****   else if(tim_baseHandle->Instance==TIM3)
 795              		.loc 1 299 8 is_stmt 1 view .LVU239
 796              		.loc 1 299 10 is_stmt 0 view .LVU240
 797 0010 104A     		ldr	r2, .L61+4
 798 0012 9342     		cmp	r3, r2
 799 0014 11D0     		beq	.L60
 800              	.LVL41:
 801              	.L53:
 300:Src/tim.c     ****   {
 301:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspDeInit 0 */
 302:Src/tim.c     **** 
 303:Src/tim.c     ****   /* USER CODE END TIM3_MspDeInit 0 */
 304:Src/tim.c     ****     /* Peripheral clock disable */
 305:Src/tim.c     ****     __HAL_RCC_TIM3_CLK_DISABLE();
 306:Src/tim.c     **** 
 307:Src/tim.c     ****     /* TIM3 interrupt Deinit */
 308:Src/tim.c     ****     HAL_NVIC_DisableIRQ(TIM3_IRQn);
 309:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspDeInit 1 */
 310:Src/tim.c     **** 
 311:Src/tim.c     ****   /* USER CODE END TIM3_MspDeInit 1 */
 312:Src/tim.c     ****   }
 313:Src/tim.c     **** }
 802              		.loc 1 313 1 view .LVU241
 803 0016 08BD     		pop	{r3, pc}
 804              	.LVL42:
 805              	.L58:
 277:Src/tim.c     ****   /* USER CODE BEGIN TIM1_MspDeInit 1 */
 806              		.loc 1 277 5 is_stmt 1 view .LVU242
 807 0018 02F56442 		add	r2, r2, #58368
 808 001c 9369     		ldr	r3, [r2, #24]
 809 001e 23F40063 		bic	r3, r3, #2048
 810 0022 9361     		str	r3, [r2, #24]
 811 0024 F7E7     		b	.L53
 812              	.L59:
 288:Src/tim.c     **** 
 813              		.loc 1 288 5 view .LVU243
 814 0026 0C4A     		ldr	r2, .L61+8
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 23


 815 0028 D369     		ldr	r3, [r2, #28]
 816 002a 23F00103 		bic	r3, r3, #1
 817 002e D361     		str	r3, [r2, #28]
 293:Src/tim.c     **** 
 818              		.loc 1 293 5 view .LVU244
 819 0030 0121     		movs	r1, #1
 820 0032 0A48     		ldr	r0, .L61+12
 821              	.LVL43:
 293:Src/tim.c     **** 
 822              		.loc 1 293 5 is_stmt 0 view .LVU245
 823 0034 FFF7FEFF 		bl	HAL_GPIO_DeInit
 824              	.LVL44:
 825 0038 EDE7     		b	.L53
 826              	.LVL45:
 827              	.L60:
 305:Src/tim.c     **** 
 828              		.loc 1 305 5 is_stmt 1 view .LVU246
 829 003a 02F50332 		add	r2, r2, #134144
 830 003e D369     		ldr	r3, [r2, #28]
 831 0040 23F00203 		bic	r3, r3, #2
 832 0044 D361     		str	r3, [r2, #28]
 308:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspDeInit 1 */
 833              		.loc 1 308 5 view .LVU247
 834 0046 1D20     		movs	r0, #29
 835              	.LVL46:
 308:Src/tim.c     ****   /* USER CODE BEGIN TIM3_MspDeInit 1 */
 836              		.loc 1 308 5 is_stmt 0 view .LVU248
 837 0048 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 838              	.LVL47:
 839              		.loc 1 313 1 view .LVU249
 840 004c E3E7     		b	.L53
 841              	.L62:
 842 004e 00BF     		.align	2
 843              	.L61:
 844 0050 002C0140 		.word	1073818624
 845 0054 00040040 		.word	1073742848
 846 0058 00100240 		.word	1073876992
 847 005c 00080140 		.word	1073809408
 848              		.cfi_endproc
 849              	.LFE70:
 851              		.global	__aeabi_ui2f
 852              		.global	__aeabi_f2iz
 853              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 854              		.align	1
 855              		.global	HAL_TIM_PeriodElapsedCallback
 856              		.syntax unified
 857              		.thumb
 858              		.thumb_func
 860              	HAL_TIM_PeriodElapsedCallback:
 861              	.LVL48:
 862              	.LFB71:
 314:Src/tim.c     **** 
 315:Src/tim.c     **** /* USER CODE BEGIN 1 */
 316:Src/tim.c     **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 317:Src/tim.c     **** {
 863              		.loc 1 317 1 is_stmt 1 view -0
 864              		.cfi_startproc
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 24


 865              		@ args = 0, pretend = 0, frame = 0
 866              		@ frame_needed = 0, uses_anonymous_args = 0
 867              		.loc 1 317 1 is_stmt 0 view .LVU251
 868 0000 08B5     		push	{r3, lr}
 869              	.LCFI21:
 870              		.cfi_def_cfa_offset 8
 871              		.cfi_offset 3, -8
 872              		.cfi_offset 14, -4
 318:Src/tim.c     ****   if(htim->Instance == htim3.Instance)
 873              		.loc 1 318 3 is_stmt 1 view .LVU252
 874              		.loc 1 318 10 is_stmt 0 view .LVU253
 875 0002 0268     		ldr	r2, [r0]
 876              		.loc 1 318 29 view .LVU254
 877 0004 174B     		ldr	r3, .L70
 878 0006 1B68     		ldr	r3, [r3]
 879              		.loc 1 318 5 view .LVU255
 880 0008 9A42     		cmp	r2, r3
 881 000a 00D0     		beq	.L68
 882              	.LVL49:
 883              	.L63:
 319:Src/tim.c     ****   {
 320:Src/tim.c     ****     encoder_dir = HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_1);
 321:Src/tim.c     ****     encoder_cnt = __HAL_TIM_GetCounter(&htim2);
 322:Src/tim.c     ****     __HAL_TIM_SetCounter(&htim2, 0);
 323:Src/tim.c     **** 
 324:Src/tim.c     ****     motor_pulse = PID_Cal(&speed_pid, 10.0f, encoder_cnt);
 325:Src/tim.c     ****     if(motor_pulse < 0)
 326:Src/tim.c     ****     {
 327:Src/tim.c     ****       motor_pulse = 0;
 328:Src/tim.c     ****     }
 329:Src/tim.c     ****     else if (motor_pulse > 15)
 330:Src/tim.c     ****     {
 331:Src/tim.c     ****       motor_pulse = 15;
 332:Src/tim.c     ****     }
 333:Src/tim.c     ****     __HAL_TIM_SetCompare(&htim1, TIM_CHANNEL_1, motor_pulse);
 334:Src/tim.c     ****   }
 335:Src/tim.c     **** }
 884              		.loc 1 335 1 view .LVU256
 885 000c 08BD     		pop	{r3, pc}
 886              	.LVL50:
 887              	.L68:
 320:Src/tim.c     ****     encoder_cnt = __HAL_TIM_GetCounter(&htim2);
 888              		.loc 1 320 5 is_stmt 1 view .LVU257
 320:Src/tim.c     ****     encoder_cnt = __HAL_TIM_GetCounter(&htim2);
 889              		.loc 1 320 19 is_stmt 0 view .LVU258
 890 000e 0221     		movs	r1, #2
 891 0010 1548     		ldr	r0, .L70+4
 892              	.LVL51:
 320:Src/tim.c     ****     encoder_cnt = __HAL_TIM_GetCounter(&htim2);
 893              		.loc 1 320 19 view .LVU259
 894 0012 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 895              	.LVL52:
 320:Src/tim.c     ****     encoder_cnt = __HAL_TIM_GetCounter(&htim2);
 896              		.loc 1 320 17 view .LVU260
 897 0016 154B     		ldr	r3, .L70+8
 898 0018 1870     		strb	r0, [r3]
 321:Src/tim.c     ****     __HAL_TIM_SetCounter(&htim2, 0);
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 25


 899              		.loc 1 321 5 is_stmt 1 view .LVU261
 321:Src/tim.c     ****     __HAL_TIM_SetCounter(&htim2, 0);
 900              		.loc 1 321 19 is_stmt 0 view .LVU262
 901 001a 154B     		ldr	r3, .L70+12
 902 001c 1B68     		ldr	r3, [r3]
 903 001e 586A     		ldr	r0, [r3, #36]
 321:Src/tim.c     ****     __HAL_TIM_SetCounter(&htim2, 0);
 904              		.loc 1 321 17 view .LVU263
 905 0020 80B2     		uxth	r0, r0
 906 0022 144A     		ldr	r2, .L70+16
 907 0024 1080     		strh	r0, [r2]	@ movhi
 322:Src/tim.c     **** 
 908              		.loc 1 322 5 is_stmt 1 view .LVU264
 909 0026 0022     		movs	r2, #0
 910 0028 5A62     		str	r2, [r3, #36]
 324:Src/tim.c     ****     if(motor_pulse < 0)
 911              		.loc 1 324 5 view .LVU265
 324:Src/tim.c     ****     if(motor_pulse < 0)
 912              		.loc 1 324 19 is_stmt 0 view .LVU266
 913 002a FFF7FEFF 		bl	__aeabi_ui2f
 914              	.LVL53:
 915 002e 0246     		mov	r2, r0
 916 0030 1149     		ldr	r1, .L70+20
 917 0032 1248     		ldr	r0, .L70+24
 918 0034 FFF7FEFF 		bl	PID_Cal
 919              	.LVL54:
 324:Src/tim.c     ****     if(motor_pulse < 0)
 920              		.loc 1 324 17 view .LVU267
 921 0038 FFF7FEFF 		bl	__aeabi_f2iz
 922              	.LVL55:
 923 003c 40B2     		sxtb	r0, r0
 924 003e 104B     		ldr	r3, .L70+28
 925 0040 1870     		strb	r0, [r3]
 325:Src/tim.c     ****     {
 926              		.loc 1 325 5 is_stmt 1 view .LVU268
 325:Src/tim.c     ****     {
 927              		.loc 1 325 7 is_stmt 0 view .LVU269
 928 0042 0028     		cmp	r0, #0
 929 0044 05DB     		blt	.L69
 329:Src/tim.c     ****     {
 930              		.loc 1 329 10 is_stmt 1 view .LVU270
 329:Src/tim.c     ****     {
 931              		.loc 1 329 13 is_stmt 0 view .LVU271
 932 0046 0F28     		cmp	r0, #15
 933 0048 05DD     		ble	.L66
 331:Src/tim.c     ****     }
 934              		.loc 1 331 7 is_stmt 1 view .LVU272
 331:Src/tim.c     ****     }
 935              		.loc 1 331 19 is_stmt 0 view .LVU273
 936 004a 0D4B     		ldr	r3, .L70+28
 937 004c 0F22     		movs	r2, #15
 938 004e 1A70     		strb	r2, [r3]
 939 0050 01E0     		b	.L66
 940              	.L69:
 327:Src/tim.c     ****     }
 941              		.loc 1 327 7 is_stmt 1 view .LVU274
 327:Src/tim.c     ****     }
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 26


 942              		.loc 1 327 19 is_stmt 0 view .LVU275
 943 0052 0022     		movs	r2, #0
 944 0054 1A70     		strb	r2, [r3]
 945              	.L66:
 333:Src/tim.c     ****   }
 946              		.loc 1 333 5 is_stmt 1 view .LVU276
 947 0056 0B4B     		ldr	r3, .L70+32
 948 0058 1B68     		ldr	r3, [r3]
 949 005a 094A     		ldr	r2, .L70+28
 950 005c 92F90020 		ldrsb	r2, [r2]
 951 0060 5A63     		str	r2, [r3, #52]
 952              		.loc 1 335 1 is_stmt 0 view .LVU277
 953 0062 D3E7     		b	.L63
 954              	.L71:
 955              		.align	2
 956              	.L70:
 957 0064 00000000 		.word	.LANCHOR1
 958 0068 00080140 		.word	1073809408
 959 006c 00000000 		.word	.LANCHOR3
 960 0070 00000000 		.word	.LANCHOR0
 961 0074 00000000 		.word	.LANCHOR4
 962 0078 00002041 		.word	1092616192
 963 007c 00000000 		.word	speed_pid
 964 0080 00000000 		.word	.LANCHOR5
 965 0084 00000000 		.word	.LANCHOR2
 966              		.cfi_endproc
 967              	.LFE71:
 969              		.global	htim3
 970              		.global	htim2
 971              		.global	htim1
 972              		.global	motor_pulse
 973              		.global	encoder_dir
 974              		.global	encoder_cnt
 975              		.section	.bss.encoder_cnt,"aw",%nobits
 976              		.align	1
 977              		.set	.LANCHOR4,. + 0
 980              	encoder_cnt:
 981 0000 0000     		.space	2
 982              		.section	.bss.encoder_dir,"aw",%nobits
 983              		.set	.LANCHOR3,. + 0
 986              	encoder_dir:
 987 0000 00       		.space	1
 988              		.section	.bss.htim1,"aw",%nobits
 989              		.align	2
 990              		.set	.LANCHOR2,. + 0
 993              	htim1:
 994 0000 00000000 		.space	72
 994      00000000 
 994      00000000 
 994      00000000 
 994      00000000 
 995              		.section	.bss.htim2,"aw",%nobits
 996              		.align	2
 997              		.set	.LANCHOR0,. + 0
 1000              	htim2:
 1001 0000 00000000 		.space	72
 1001      00000000 
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 27


 1001      00000000 
 1001      00000000 
 1001      00000000 
 1002              		.section	.bss.htim3,"aw",%nobits
 1003              		.align	2
 1004              		.set	.LANCHOR1,. + 0
 1007              	htim3:
 1008 0000 00000000 		.space	72
 1008      00000000 
 1008      00000000 
 1008      00000000 
 1008      00000000 
 1009              		.section	.bss.motor_pulse,"aw",%nobits
 1010              		.set	.LANCHOR5,. + 0
 1013              	motor_pulse:
 1014 0000 00       		.space	1
 1015              		.text
 1016              	.Letext0:
 1017              		.file 2 "e:\\devtools\\armtoolchain\\10 2021.10\\arm-none-eabi\\include\\machine\\_default_types.h
 1018              		.file 3 "e:\\devtools\\armtoolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1019              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103x6.h"
 1020              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1021              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1022              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1023              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 1024              		.file 9 "Inc/tim.h"
 1025              		.file 10 "algorithm/pid/pid.h"
 1026              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 1027              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim_ex.h"
 1028              		.file 13 "Inc/main.h"
 1029              		.file 14 "<built-in>"
ARM GAS  C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 tim.c
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:18     .text.MX_TIM2_Init:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:24     .text.MX_TIM2_Init:00000000 MX_TIM2_Init
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:144    .text.MX_TIM2_Init:00000070 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:149    .text.MX_TIM3_Init:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:155    .text.MX_TIM3_Init:00000000 MX_TIM3_Init
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:266    .text.MX_TIM3_Init:00000068 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:272    .text.HAL_TIM_Base_MspInit:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:278    .text.HAL_TIM_Base_MspInit:00000000 HAL_TIM_Base_MspInit
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:427    .text.HAL_TIM_Base_MspInit:0000009c $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:435    .text.HAL_TIM_MspPostInit:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:441    .text.HAL_TIM_MspPostInit:00000000 HAL_TIM_MspPostInit
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:522    .text.HAL_TIM_MspPostInit:00000048 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:528    .text.MX_TIM1_Init:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:534    .text.MX_TIM1_Init:00000000 MX_TIM1_Init
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:759    .text.MX_TIM1_Init:000000e0 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:765    .text.HAL_TIM_Base_MspDeInit:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:771    .text.HAL_TIM_Base_MspDeInit:00000000 HAL_TIM_Base_MspDeInit
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:844    .text.HAL_TIM_Base_MspDeInit:00000050 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:854    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:860    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:957    .text.HAL_TIM_PeriodElapsedCallback:00000064 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:1007   .bss.htim3:00000000 htim3
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:1000   .bss.htim2:00000000 htim2
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:993    .bss.htim1:00000000 htim1
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:1013   .bss.motor_pulse:00000000 motor_pulse
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:986    .bss.encoder_dir:00000000 encoder_dir
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:980    .bss.encoder_cnt:00000000 encoder_cnt
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:976    .bss.encoder_cnt:00000000 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:987    .bss.encoder_dir:00000000 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:989    .bss.htim1:00000000 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:996    .bss.htim2:00000000 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:1003   .bss.htim3:00000000 $d
C:\Users\wizar\AppData\Local\Temp\ccSf1pih.s:1014   .bss.motor_pulse:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Base_Init
HAL_TIM_ConfigClockSource
HAL_TIMEx_MasterConfigSynchronization
Error_Handler
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
memset
HAL_TIM_PWM_Init
HAL_TIM_PWM_ConfigChannel
HAL_TIMEx_ConfigBreakDeadTime
HAL_GPIO_DeInit
HAL_NVIC_DisableIRQ
__aeabi_ui2f
__aeabi_f2iz
HAL_GPIO_ReadPin
PID_Cal
speed_pid
